<!DOCTYPE html>
<html lang='en'>

<head>
  <!--meta data-->
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width' initial scale='1' shrink-to-fit='no'>
  <meta name="description" content=" ">
  <meta name="author" content="Samuel Okediya">
  <meta name="keywords" content=" ">

  <!--External Links-->
  <link href='/static/houseme.css' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/static/css/bootstrap.css' type=text/css>
  <link href='/static/fontawesome/css/all.min.css' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/static/animate.min.css' type=text/css>
  <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon-32x32.png">
  <title>User dashboard</title>

</head>

<body>

  <!--Users dashboard-->

  <div class='container-fluid'>
    <div class='row mt-2'>

      <div class='col-2' id='dashboardmenu'>
        <div id='dashboardlogo'>
          <div class='ms-md-5 badge bg-light'><a href='#'><img src='/static/images/houseme.png' alt='logo'
                class='img fluid' id='toplogo'></a></div>
        </div>
        <div class='mt-3'>


          <ul>
            <a href="{{ url_for('userdashboard') }}">
              <li class='dmenulist'><i class="fa-solid fa-gauge"></i> Dashboard</li>
            </a>
            <a href="{{ url_for('userprofile') }}">
              <li class='dmenulist'><i class="fa-solid fa-address-card"></i></i> Profile</li>
            </a>
            <a href='#'>
              <li class='dmenulist'><i class="fa-solid fa-house"></i> Preferred properties</li>
            </a>
            <a href='#'>
              <li class='dmenulist'><i class="fa-solid fa-headset"></i></i> Help & Support</li>
            </a>
            <a href="{{url_for ('userlogout')}}">
              <li class='dmenulist'><i class="fa-solid fa-power-off"></i> Logout </li>
            </a>
          </ul>

        </div>
      </div>
      <div class='col-10' id='dashboardcontent'>
        <div class='col-12'>
          <h4 class='mt-3' align='center'>PROFILE</h4>
          <form action="{{ url_for('user_update') }}" method='post'>
            {% set m = get_flashed_messages() %}
            {% if m %}
            {% for i in m %}
            <p class='alert alert-success'>{{ i }}</p>
            {% endfor %}
            {% endif %}
            <!--{csrf_token}-->

           <a href="" onclick="allowedit()" class="col-1 offset-md-11 offset-8">Edit Profile</a>

            <input type='hidden' name='csrf_token' value="{{ csrf_token() }}">

            <div class="input-group mt-5">
              <span class="input-group-text">First and Last name</span>
              <input type="text" class="form-control useredits" placeholder="First name" name="userfname"
                value='{{ user.user_fname }}'>
              <input type="text" class="form-control useredits" placeholder="Last name" name="userlname"
                value='{{ user.user_lname }}'>
            </div>
            <div class="input-group mb-3 mt-5">
              <span class="input-group-text" id="basic-addon1">Email Address</span>
              <input type="email" class="form-control useredits" aria-describedby="basic-addon1" name='useremail'
                value='{{ user.user_email }}' readonly>
            </div>

            <div class="input-group mb-3 mt-5">
              <span class="input-group-text" id="basic-addon2">Username</span>
              <input type="text" class="form-control useredits" aria-describedby="basic-addon2" name='username'
                value='{{ user.username }}'>
            </div>


            <div class="input-group mb-3 mt-5">
              <span class="input-group-text" id="basic-addon2">Phone number</span>
              <input type="text" class="form-control useredits" aria-describedby="basic-addon2" name='userphone'
                value='{{ user.user_phone }}'>
            </div>


            <div class="input-group mb-3 mt-5">
              <span class="input-group-text" id="basic-addon3">Password</span>
              <input type="password" class="form-control useredits" aria-describedby="basic-addon3" name='userpw'
                value='{{ user.user_pword }}' readonly>
            </div>

            <button type="submit" class="btn btn-outline-light btn-sm mt-5 col-3 offset-5">Save changes</button>

          </form>
        </div>
      </div>

    </div>
  </div>


  <script src='/static/jquery.min.js'></script>
  <script type='text/javascript' src='/static/houseme.js' language='javascript'></script>
  <script type='text/javascript' src='/static/js/bootstrap.bundle.min.js' language='javascript'></script>
  <script type="text/javascript" language="javascript">
    function allowedit(){
      document.getElementsByClassName("useredits").removeAttribute("readonly"); 
    };

  </script>
  </main>
</body>

</html>